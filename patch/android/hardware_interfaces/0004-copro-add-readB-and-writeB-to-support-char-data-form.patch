From 305710b7e5d3fa363047060e6eed2b82a21889b8 Mon Sep 17 00:00:00 2001
From: frq09432 <nicolas.louboutin@st.com>
Date: Mon, 27 Jan 2020 15:02:34 +0100
Subject: [PATCH 1/2] copro: add readB and writeB to support char[] data format

Change-Id: Iefdd3605efa79b23ab4eae07ea3c5fbc86aa889c
---
 copro/1.0/ICoproSerialPortHal.hal | 22 ++++++++++++++++++++--
 current.txt                       |  6 +++---
 2 files changed, 23 insertions(+), 5 deletions(-)

diff --git a/copro/1.0/ICoproSerialPortHal.hal b/copro/1.0/ICoproSerialPortHal.hal
index a74de06..d8aae9a 100644
--- a/copro/1.0/ICoproSerialPortHal.hal
+++ b/copro/1.0/ICoproSerialPortHal.hal
@@ -34,7 +34,7 @@ interface ICoproSerialPortHal {
     close() generates (RequestStatus debugErrno);
 
     /**
-     * Read the content of the tty connection.
+     * Read the string content of the tty connection.
      *
      * @param   void
      * @return  debugErrno
@@ -43,10 +43,28 @@ interface ICoproSerialPortHal {
     read() generates (RequestStatus debugErrno, string result);
 
     /**
-     * Wrtie data to the tty.
+     * Read the byte content of the tty connection.
+     *
+     * @param   size
+     * @return  debugErrno
+     * @return  result
+     */
+    readB(uint32_t size) generates (RequestStatus debugErrno, vec<uint8_t> result);
+
+    /**
+     * Write string data to the tty.
      *
      * @param   command
      * @return  debugErrno
      */
     write(string command) generates (RequestStatus debugErrno);
+
+    /**
+     * Write byte data to the tty.
+     *
+     * @param   command
+     * @return  debugErrno
+     * @return  lenght
+     */
+    writeB(vec<uint8_t> command) generates (RequestStatus debugErrno, uint32_t lenght);
 };
diff --git a/current.txt b/current.txt
index da0b661..244425b 100644
--- a/current.txt
+++ b/current.txt
@@ -572,6 +572,6 @@ efbb061c969fa9553d243da6ee23b83fe5d4aa663a7b8896adc52e2b015bc2f3 android.hardwar
 cfa81f229b69f9011c58f48264fcb552447430fe68610eac514e811e65bc306a android.hardware.wifi.supplicant@1.2::types
 
 # Add Copro HALs
-fe093bf4dacfd048c1be7b233ac6bd678f0f33bbeb812fd4364bcc82f12d0de4 android.hardware.copro@1.0::types
-ad7e5475dd5de5e956bd0d781bb9d29891e88639c7327f4ae4d3e2dc96cdd64a android.hardware.copro@1.0::ICopro
-62d7af09e29f78070dc5bd9d711a345cf7e1427ba70fc1636715e829d51f96d7 android.hardware.copro@1.0::ICoproSerialPortHal
+c2aa62be97e499be9b9cf10fef841e1da9b80524b3accfa3f73c1b5eea649178 android.hardware.copro@1.0::types
+842e6428ca2851977d306fa18c6db359c9b8133567684a37acceeb92a17c2d6b android.hardware.copro@1.0::ICopro
+df111f3bd9a752ead6cdd91a97e1ab61eceee8e7ce5976e2bf8809939adcf2e7 android.hardware.copro@1.0::ICoproSerialPortHal
-- 
2.7.4

